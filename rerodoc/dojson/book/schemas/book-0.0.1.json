{
    "description": "A book document...",
    "title": "Book",
    "required": [
        "title",
        "language",
        "recid",
        "type"
        ],
    "id": "http://doc.rero.ch/schema/book/book-0.0.1.json",
    "$schema": "http://json-schema.org/schema#",
    "type": "object",
    "properties": {
        "type": {"$ref": "/schema/common/type"},
        "recid":{"$ref": "/schema/common/recid"},
        "rero_id": {"$ref": "/schema/common/rero_id"},
        "media_type":{
            "propertyOrder": 4,
            "type": "string",
            "title": "media type",
            "readOnly": true,
            "format": "uri",
            "default": "http://rdvocab.info/termList/RDAMediaType/1003"
        },
        "isbn10":{
            "propertyOrder": 5,
            "type": "string",
            "title": "ISBN identifier with 10 digits",
            "pattern": "^[0-9]{1,5}-[0-9]{1,7}-[0-9]{1,7}-[0-9,X]{1}$"
        },
        "isbn13":{
            "propertyOrder": 5,
            "type": "string",
            "title": "ISBN identifier with 13 digits",
            "pattern": "^978[0-9]{9}[0-9]{1}$"
        },
        "language": {"$ref": "/schema/common/language"},
        "title": {"$ref": "/schema/common/title"},
        "other_title": {"$ref": "/schema/common/other_title"},
        "authors": {"$ref": "/schema/common/authors"},
        "corporate":{
            "propertyOrder": 9,
            "uniqueItems": true,
            "type": "array",
            "title": "Corporate Authors",
            "items": {  
                "type": "object",
                "id": "corporate_item",
                "properties": {
                    "name": {
                        "propertyOrder": 1,
                        "title": "name",
                        "type": "string"
                    },
                    "full": {
                        "template": "{{name}}",
                        "type": "string",
                        "title": "name as string",
                        "watch": {
                            "name": "corporate_item.name"
                        }
                    }
                }
            }
        },
        "meeting": {
            "propertyOrder": 10,
            "type": "object",
            "id": "meeting",
            "title": "Meeting",
            "properties": {
                "name": {
                    "propertyOrder": 1,
                    "title": "name",
                    "type": "string"
                },
                "location": {
                    "propertyOrder": 2,
                    "title": "location",
                    "type": "string"
                },
                "date": {
                    "propertyOrder": 3,
                    "title": "Meeting date event",
                    "type": "string"
                },
                "number": {
                    "propertyOrder": 4,
                    "title": "Number",
                    "type": "string",
                    "description": "meeting number"
                },
                "full": {
                    "propertyOrder": 5,
                    "title": "Author name",
                    "type": "string",
                    "description": "Author as string",
                    "template": "{{name}} {{number}} {{date}} {{location}}",
                    "watch": {
                        "name": "meeting.name",
                        "location": "meeting.location",
                        "date": "meeting.date",
                        "number": "meeting.number"
                    }
                }
            }
        },
        "edition": {"$ref": "/schema/common/edition"},
        "publication": {"$ref": "/schema/common/publication"},
        "collation": {
            "type": "object",
            "title": "Collation of the document",
            "properties": {
                "pages": {
                    "propertyOrder": 1,
                    "type": "string",
                    "title": "Number of pages"
                },
                "other": {
                    "propertyOrder": 2,
                    "type": "string",
                    "title": "Other infos"
                },
                "dimension": {
                    "propertyOrder": 3,
                    "type": "string",
                    "title": "Dimension of the document",
                    "template": "{{width}} x {{height}}",
                    "watch": {
                        "width": "dimension.width",
                        "height": "dimension.height"
                    }
                },
                "full": {
                    "propertyOrder": 4,
                    "type": "string",
                    "title": "Collation as string",
                    "template": "{{pages}} p. {{other}} {{dimension}} cm",
                    "watch": {
                        "pages": "collation.pages",
                        "other": "collation.other",
                        "dimension": "collation.dimension"
                    }
                }
            }
        },
        "dimension": {
            "type": "object",
            "title": "Dimension of the document in cm",
            "properties": {
                "width": {
                    "propertyOrder": 1,
                    "type": "integer",
                    "title": "Width of the book"
                },    
                "height": {
                    "propertyOrder": 2,
                    "type": "integer",
                    "title": "Height of the book"
                }
            }
        },
        "publication_date": {"$ref": "/schema/common/book"},
        "series": {
            "type": "object",
            "title": "Part of series",
            "properties": {
                "name": {
                    "propertyOrder": 1,
                    "type": "string",
                    "title": "Name of the series"
                },
                "volume": {
                    "propertyOrder": 2,
                    "type": "string",
                    "title": "Volume number of the series"
                }
            }        
        }
    }
}
